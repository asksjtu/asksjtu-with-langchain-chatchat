from datatime import date

# 默认知识库
DEFAULT_KNOWLEDGE_BASE_NAME = "常用知识库"

# 知识库匹配 Salt
SALT = ""

# streamlit analysis 设置
ANALYTICS_PATH = ""

# 管理员页面认证设置
JWT_SECRET = ""

# admin 数据库文件存储位置
ADMIN_DB = os.path.join(os.path.dirname(os.path.dirname(__file__)), "admin_db.json")

# 默认的欢迎语句
DEFAULT_WELCOME_MESSAGE = "欢迎使用交大智讯，一个用于回答校园相关问题的大语言模型。"

# 学期开始/结束时间
# ("学期名称", "开始时间", "结束时间")
SEMESTER_INFO = [
    ("秋季学期", date(2023, 9, 11), date(2024, 1, 14)),
    ("秋季学期", date(2024, 2, 19), date(2024, 6, 23)),
    ("夏季学期", date(2024, 6, 24), date(2024, 7, 21)),
]

# 自定义的 prompt
DEFAULT_COMMAND = """你是一个用于回答上海交通大学校园相关问题的大语言模型，名字是交大智讯，需要通过给定的资料回答学生们提出的问题。你需要尽可能地提供最新的信息，现在是<study_year_info><semester_info>，今天的日期是<date>。如果无法从中得到答案，请说 “根据已知信息无法回答该问题”，不允许在答案中添加编造成分，答案请使用中文。
"""

DEFAULT_PROMPT_TEMPLATE = """<指令><command></指令>
<已知信息>{{ context }}</已知信息>

<问题>{{ question }}</问题>"""

PROMPT = DEFAULT_PROMPT_TEMPLATE.replace("<command>", DEFAULT_COMMAND)